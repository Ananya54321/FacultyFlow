<% layout("/layouts/boilerplate")-%>

<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 style="color: #182527; font-weight: 600">All Subjects</h1>
    <% if(currUserStatus.role == 'admin') { %>
    <a
      href="/subjects/new"
      class="btn btn-primary"
      style="
        background-color: #1ecd8d;
        border-color: #1ecd8d;
        font-weight: 500;
      ">
      <i class="fas fa-plus-circle me-2"></i>Add New Subject
    </a>
    <% } %>
  </div>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <% for(let subject of subjectList){ %>
    <div class="col">
      <div
        class="card h-100 shadow-sm hover-shadow"
        style="border: none; transition: all 0.3s">
        <div class="card-body d-flex flex-column">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <h5
              class="card-title mb-0"
              style="color: #182527; font-weight: 600">
              <%= subject.subname %>
            </h5>
            <span
              class="badge rounded-pill"
              style="
                background-color: #1ecd8d;
                color: white;
                font-size: 1rem;
                padding: 0.5em 1em;
              ">
              <%= subject.subtype %>
            </span>
          </div>
          <p class="card-text mb-3" style="color: #545454">
            <strong>Subject Code:</strong> <%= subject.subcode %>
          </p>
          <% if(currUserStatus.role == 'admin'){ %>
          <a
            href="/subjects/<%= subject._id %>/edit"
            class="btn btn-outline-secondary mt-auto align-self-start"
            style="color: #545454; border-color: #545454; font-weight: 500">
            <i class="fas fa-edit me-2"></i>Edit
          </a>
          <% } %>
        </div>
      </div>
    </div>
    <% } %>
  </div>
</div>

<style>
  .hover-shadow:hover {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
    transform: translateY(-5px);
  }
  .btn {
    transition: all 0.3s;
  }
  .btn:hover {
    transform: translateY(-2px);
  }
  .badge {
    transition: all 0.3s;
  }
  .badge:hover {
    transform: scale(1.05);
  }
</style>

<script
  src="https://kit.fontawesome.com/your-fontawesome-kit.js"
  crossorigin="anonymous"></script>
